---
title: "Exploring data distributions for dynamic range modeling project"
author: "Alexa Fredston"
date: "Dec 7 2020"
output:
  slidy_presentation: default
  beamer_presentation: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r packages, echo=FALSE, results="hide", message=FALSE, warning=FALSE}
library(tidyverse)
library(here)
#OApath <- "~/github/OceanAdapt_9815545/"
# load(paste0(OApath,"data_clean/dat_exploded.RData"))
```

```{r data, echo=FALSE, results="hide", message=FALSE}
dogfish <- read_csv(here("processed-data","dogfish_prepped_data.csv"))
fluke <- read_csv(here("processed-data","fluke_prepped_data.csv")) %>% mutate(latround = round(lat))
squid <- read_csv(here("processed-data","squid_prepped_data.csv"))%>% mutate(latround = round(lat))
gray <- read_csv(here("processed-data","gray_prepped_data.csv"))%>% mutate(latround = round(latitudestart))

tmp <- fluke %>% 
  filter(
    numlengthclass>0,
    latround==40
  ) 

```

## Summer flounder (fluke)

![](fluke_internet_dont_publish.jpg)

## Summer flounder (fluke): Notes

* Encountered in multiple surveys, Northeast and Southeast
* Southeast does not always record length of fish caught (can't convert biomass -> abundance)

## Summer flounder (fluke) - data by size class

```{r fluke1, echo=FALSE, message=FALSE}
ggplot(data=fluke, aes(x=numlengthclass)) +
  geom_histogram() + 
  facet_wrap(~lengthclass) +
  NULL
```

## Summer flounder (fluke) - data by size class, no zeros

```{r fluke2, echo=FALSE, message=FALSE}
  ggplot(data=fluke%>% filter(numlengthclass>0), aes(x=numlengthclass)) +
  geom_histogram() + 
  facet_wrap(~lengthclass) +
  NULL
```

## Summer flounder (fluke) - data by year, for a representative decade

```{r fluke3, echo=FALSE, message=FALSE}
  ggplot(data=fluke%>% filter(numlengthclass>0, year<2000, year>=1990), aes(x=numlengthclass)) +
  geom_histogram() + 
 facet_wrap(~year) +
  NULL
```

## Summer flounder (fluke) - data by latitude, all years (no zeros)

```{r fluke4, echo=FALSE, message=FALSE}
  ggplot(data=fluke%>% filter(numlengthclass>0), aes(x=numlengthclass)) +
  geom_histogram() + 
 facet_wrap(~latround) +
  NULL
```

## Shortfin squid: Notes

* Only caught in Northeast survey 
* Entire life cycle is less than a year, making it hard to differentiate size classes

## Shortfin squid

![](squid_internet_dont_publish.jpg)


## Shortfin squid - data by size class

```{r squid1, echo=FALSE, message=FALSE}
ggplot(data=squid, aes(x=numlengthclass)) +
  geom_histogram() + 
  facet_wrap(~lengthclass) +
  NULL
```

## Shortfin squid - data by size class, no zeros

```{r squid2, echo=FALSE, message=FALSE}
  ggplot(data=squid%>% filter(numlengthclass>0), aes(x=numlengthclass)) +
  geom_histogram() + 
  facet_wrap(~lengthclass) +
  NULL
```

## Shortfin squid - data by year, for a representative decade

```{r squid3, echo=FALSE, message=FALSE}
  ggplot(data=squid%>% filter(numlengthclass>0, year<2000, year>=1990), aes(x=numlengthclass)) +
  geom_histogram() + 
 facet_wrap(~year) +
  NULL
```

## Shortfin squid - data by latitude, all years (no zeros)

```{r squid4, echo=FALSE, message=FALSE}
  ggplot(data=squid%>% filter(numlengthclass>0), aes(x=numlengthclass)) +
  geom_histogram() + 
 facet_wrap(~latround) +
  NULL
```

## Gray triggerfish: Notes

* Included this as a species that is spreading into the region
* Merging surveys will really matter eventually (here, just Southeast)

## Gray triggerfish

![](gray_internet_dont_publish.jpg)


## Gray triggerfish - data by size class

```{r gray1, echo=FALSE, message=FALSE}
ggplot(data=gray, aes(x=numlengthclass)) +
  geom_histogram() + 
  facet_wrap(~lengthclass) +
  NULL
```

## Gray triggerfish - data by size class, no zeros

```{r gray2, echo=FALSE, message=FALSE}
  ggplot(data=gray%>% filter(numlengthclass>0), aes(x=numlengthclass)) +
  geom_histogram() + 
  facet_wrap(~lengthclass) +
  NULL
```

## Gray triggerfish - data by year, for a representative decade

```{r gray3, echo=FALSE, message=FALSE}
  ggplot(data=gray%>% filter(numlengthclass>0, year<2000, year>=1990), aes(x=numlengthclass)) +
  geom_histogram(binwidth=1) + 
 facet_wrap(~year) +
  NULL
```

## Gray triggerfish - data by latitude, all years (no zeros)

```{r gray4, echo=FALSE, message=FALSE}
  ggplot(data=gray%>% filter(numlengthclass>0), aes(x=numlengthclass)) +
  geom_histogram(binwidth=1) + 
 facet_wrap(~latround) +
  NULL
```

